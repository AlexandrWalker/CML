(()=>{document.addEventListener("DOMContentLoaded",(()=>{var e=new Swiper(".hero__slider-init",{slidesPerView:1,centeredSlides:!0,loop:!0,init:!1,speed:600,effect:"fade",autoplay:{delay:8e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});new Swiper(".work__items",{slidesPerView:"auto",slidesPerGroup:1,speed:600,breakpoints:{600:{slidesPerView:6}}}),new Swiper(".management__slider",{slidesPerView:"auto",slidesPerGroup:1,spaceBetween:10,speed:600,loop:!0,grid:!1,breakpoints:{601:{slidesPerView:2,spaceBetween:10,grid:{rows:2,fill:"row"}},769:{slidesPerView:3,spaceBetween:20}},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".reviews__slider",{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,speed:600,loop:!0,breakpoints:{381:{slidesPerView:2,spaceBetween:10},769:{slidesPerView:3,spaceBetween:10},1441:{slidesPerView:4,spaceBetween:20}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(".cases__slider",{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,speed:600,loop:!0,breakpoints:{361:{slidesPerView:2,spaceBetween:10},769:{slidesPerView:3,spaceBetween:20}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});e.on("slideChange afterInit init",(function(){let e=this.realIndex+1;document.querySelector(".fraction").innerHTML=`\n      <span class="fraction-current">\n      ${e}\n      </span> \n      / \n      <span class="fraction-total">\n        ${this.slides.length}\n      </span>`})),e.init();const t=new Lenis({anchors:{offset:-150,onComplete:()=>{console.log("scrolled to anchor")}}});t.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{t.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),function(){const e=document.querySelector(".header__btn"),i=document.querySelector(".menu__body");document.querySelector(".menu__list-item accordion active");var a=document.getElementsByClassName("active");const s=document.getElementById("burger"),n=document.getElementById("burgerText"),o=document.getElementById("mobile-menu"),l=document.querySelector(".menu__close"),r=document.querySelector(".menu__overlay"),c=document.querySelectorAll(".menu__list-link"),d=document.querySelector(".head"),m=()=>{s.classList.remove("burger--opened"),o.classList.remove("mobile-menu--opened"),d.classList.remove("head--active"),t.start()};s.addEventListener("click",(l=>{l.stopPropagation(),e.classList.contains("header__btn-active")&&e.classList.remove("header__btn-active"),i.classList.contains("down")&&i.classList.remove("down"),a.length>0&&a[0]!==this&&a[0].classList.remove("active");const r=s.classList.toggle("burger--opened");if(o.classList.toggle("mobile-menu--opened",r),d.classList.toggle("head--active"),t.stop(),window.innerWidth<769&&769!==window.innerWidth){document.querySelector(".burger.burger--opened")?(n.innerHTML="Закрыть",t.stop()):(n.innerHTML="Меню",t.start())}document.querySelector(".burger.burger--opened")?t.stop():t.start()})),[l,r].forEach((e=>e.addEventListener("click",m))),document.addEventListener("click",(e=>{o.contains(e.target)||s.contains(e.target)||(m(),t.start())})),c.forEach((e=>e.addEventListener("click",m)))}(),document.querySelectorAll(".dropdown")&&document.querySelectorAll(".dropdown").forEach((function(e){const t=e.querySelector(".dropdown__button"),i=e.querySelector(".dropdown__button-text"),a=e.querySelector(".dropdown__list"),s=a.querySelectorAll(".dropdown__list-item"),n=e.querySelector(".dropdown__input-hidden");t.addEventListener("click",(function(e){a.classList.toggle("dropdown__list--visible"),this.classList.add("dropdown__button--active")})),s.forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation(),i.innerHTML=this.innerHTML,t.dataset.value=this.dataset.value,t.focus(),t.click(),n.value=this.dataset.value,a.classList.remove("dropdown__list--visible")}))})),document.addEventListener("click",(function(e){e.target!==t&&(t.classList.remove("dropdown__button--active"),a.classList.remove("dropdown__list--visible"))})),document.addEventListener("keydown",(function(e){"Tab"!==e.key&&"Escape"!==e.key||(t.classList.remove("dropdown__button--active"),a.classList.remove("dropdown__list--visible"))}))})),function(){if(document.querySelector(".modal__btn")){var e=document.querySelectorAll(".modal__close-btn"),t=document.querySelectorAll(".modal__btn");Array.from(t,(t=>{t.addEventListener("click",(t=>{let i=document.getElementsByClassName("open");i.length>0&&i[0]!==this&&i[0].classList.remove("open");let a=t.target.getAttribute("data-id");a&&(document.getElementById(a).classList.add("open"),document.body.classList.add("no-scroll"),Array.from(e,(e=>{e.addEventListener("click",(e=>{document.getElementById(a).classList.remove("open"),document.body.classList.remove("no-scroll")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(document.getElementById(a).classList.remove("open"),document.body.classList.remove("no-scroll"))})),document.querySelector(".modal.open .modal__box").addEventListener("click",(e=>{e._isClickWithInModal=!0})),document.getElementById(a).addEventListener("click",(e=>{e._isClickWithInModal||(e.currentTarget.classList.remove("open"),document.body.classList.remove("no-scroll"))}))})))}))}))}}(),document.querySelectorAll(".tabs").forEach((e=>{e.addEventListener("click",(t=>{const i=t.target.closest(".tabs__btn");if(!i||!e.contains(i))return;t.stopPropagation();const a=i.closest(".tabs");if(!a)return;const s=Array.from(a.querySelectorAll(".tabs__btn")),n=Array.from(a.querySelectorAll(".tabs__panel"));s.forEach((e=>{e.closest(".tabs")===a&&e.classList.remove("tabs__btn--active")})),n.forEach((e=>{e.closest(".tabs")===a&&e.classList.remove("tabs__panel--active")})),i.classList.add("tabs__btn--active");const o=a.querySelector(`.tabs__panel[data-tab="${i.dataset.tab}"]`);o&&o.classList.add("tabs__panel--active")}))}));var i=document.querySelectorAll(".header__btn"),a=document.getElementsByClassName("header__btn-active");i&&Array.from(i).forEach((function(e,t,i){e.addEventListener("click",(function(e){e.stopPropagation(),a.length>0&&a[0]!==this&&(a[0].classList.remove("header__btn-active"),document.querySelector(".menu__body").classList.remove("down")),this.classList.toggle("header__btn-active"),document.querySelector(".menu__body").classList.toggle("down")}))})),document.getElementById("warning-btn").addEventListener("click",(e=>{document.getElementById("warning-plate").style.display="none"})),gsap.registerPlugin(ScrollTrigger);document.querySelectorAll(".numbs").forEach((e=>{e.querySelectorAll(".number").forEach((t=>{gsap.to(t,{scrollTrigger:{trigger:e,start:"top 60%"},onStart:()=>function(e,t=2e3){let i=0;const a=Number(e.dataset.val);let s=setInterval((()=>{i<a?i+=a/(t/10):clearInterval(s),e.classList.contains("frac")?e.innerHTML=i.toFixed(1):e.innerHTML=Math.round(i)}),10)}(t)})}))}));const s=document.querySelectorAll(".faq__item"),n=document.querySelectorAll(".service__item"),o=document.querySelectorAll(".calc__block"),l=document.querySelector(".about__img"),r=document.querySelector(".banner"),c=document.querySelectorAll(".section__head"),d=document.querySelectorAll(".section__title");for(let e=0;e<s.length;e++)gsap.from(s[e],{opacity:0,x:-50,duration:.3,scrollTrigger:{trigger:s[e],start:"top 80%",end:"bottom 20%",toggleActions:"play none none none",preventOverlaps:!0}});for(let e=0;e<o.length;e++)gsap.from(o[e],{opacity:0,y:50,duration:.3,scrollTrigger:{trigger:o[e],start:"top 80%",end:"bottom 20%",toggleActions:"play none none none",preventOverlaps:!0}});for(let e=0;e<n.length;e++)gsap.from(n[e],{opacity:0,x:-50,duration:.3,scrollTrigger:{trigger:n[e],start:"top 80%",end:"bottom 20%",toggleActions:"play none none none"}});gsap.from(l,{opacity:0,y:50,scrollTrigger:{trigger:l,start:"top 80%",end:"bottom 20%",toggleActions:"play none none none"}}),gsap.from(r,{opacity:0,y:50,duration:.3,scrollTrigger:{trigger:r,start:"top 80%",end:"bottom 20%",toggleActions:"play none none none",preventOverlaps:!0}});for(let e=0;e<d.length;e++){const t=new SplitType(d[e],{types:"lines, words"});gsap.from(t.words,{opacity:0,x:-50,duration:.3,stagger:{amount:.2},scrollTrigger:{trigger:c[e],start:"top 80%",end:"bottom 20%",toggleActions:"play none none none",preventOverlaps:!0}})}const m=this.document.querySelector(".head"),p=document.getElementById("first-section"),y=document.getElementById("calc"),u=document.getElementById("footer"),g=p.offsetHeight+y.offsetHeight,h=document.getElementById("plate"),v="show";window.addEventListener("scroll",(function(){const e=window.pageYOffset,t=document.body.offsetHeight-u.offsetHeight-window.innerHeight;h.classList.contains(v);e>0&&0!==e?m.classList.add("fixed"):m.classList.remove("fixed"),e>g&&e<t?h.classList.add(v):h.classList.remove(v)}));const _=document.querySelectorAll(".work__slide"),f=document.getElementsByClassName("work__slide-active");_.forEach((e=>{e!==_[0]&&(e.addEventListener("mouseover",(function(){f.length>0&&f[0]!==this&&f[0].classList.remove("work__slide-active"),this.classList.add("work__slide-active")})),e.addEventListener("mouseout",(function(){_[0].classList.add("work__slide-active"),this.classList.remove("work__slide-active")})))}));const z=document.querySelectorAll(".case__acc"),b=(document.querySelector(".tabs__panel--active"),document.querySelector(".tabs__panel--first"));var w,S,L,E,x;b&&b.click(),z&&window.addEventListener("resize",(function(e){if(window.innerWidth<769&&769!==window.innerWidth){z[0].classList.add("active");for(let e=0;e<z.length;e++)z[e].classList.add("accordion"),z[e].classList.remove("tabs__panel"),b&&b.classList.remove("tabs__panel--active")}else for(let e=0;e<z.length;e++)z[e].classList.remove("accordion"),z[e].classList.add("tabs__panel"),b&&b.classList.add("tabs__panel--active")}),!0),window,w=document,S={host:"//quiz.marquiz.ru",region:"ru",id:"6746e81ec17b29002647f133",autoOpen:!1,autoOpenFreq:"once",openOnExit:!1,disableOnMobile:!1},(L=w.createElement("script")).async=!0,L.src="//script.marquiz.ru/v2.js",L.onload=function(){"loading"!==document.readyState?Marquiz.init(S):document.addEventListener("DOMContentLoaded",(function(){Marquiz.init(S)}))},w.head.insertBefore(L,w.head.firstElementChild),E=document.querySelectorAll(".accordion"),x=document.getElementsByClassName("active"),Array.from(E).forEach((function(e,t,i){e.addEventListener("click",(function(e){x.length>0&&x[0]!==this&&x[0].classList.remove("active"),this.classList.toggle("active"),ScrollTrigger.refresh()}))}));const q=[{name:"Россия",size:"extraBig",opacity:1,static:!0},{name:"ОАЭ",size:"big",opacity:1},{name:"Турция",size:"big",opacity:1},{name:"Иран",size:"big",opacity:1},{name:"Израиль",size:"big",opacity:1},{name:"Япония",size:"big",opacity:1},{name:"Гонконг",size:"big",opacity:1},{name:"Малайзия",size:"big",opacity:1},{name:"Индонезия",size:"big",opacity:1},{name:"Китай",size:"big",opacity:1},{name:"Индия",size:"big",opacity:1},{name:"ЮАР",size:"big",opacity:1},{name:"Польша",size:"big",opacity:1},{name:"Египет",size:"big",opacity:1},{name:"Таиланд",size:"big",opacity:1},{name:"Вьетнам",size:"big",opacity:1},{name:"Корея",size:"big",opacity:1},{name:"Сербия",size:"mid",opacity:.8},{name:"Мьянма",size:"mid",opacity:.8},{name:"Мексика",size:"mid",opacity:.8},{name:"Камбоджа",size:"mid",opacity:.8},{name:"Канада",size:"mid",opacity:.8},{name:"Испания",size:"mid",opacity:.8},{name:"Чехия",size:"mid",opacity:.8},{name:"США",size:"mid",opacity:.8},{name:"Оман",size:"mid",opacity:.8},{name:"Германия",size:"mid",opacity:.8},{name:"Франция",size:"mid",opacity:.8},{name:"Латвия",size:"mid",opacity:.8},{name:"Италия",size:"mid",opacity:.8},{name:"Тунис",size:"mid",opacity:.8},{name:"Литва",size:"mid",opacity:.8},{name:"Великобритания",size:"mid",opacity:.8},{name:"Эстония",size:"mid",opacity:.8},{name:"Швеция",size:"small",opacity:.7},{name:"Австрия",size:"small",opacity:.7},{name:"Дания",size:"small",opacity:.7},{name:"Кения",size:"small",opacity:.7},{name:"Шри-Ланка",size:"small",opacity:.7},{name:"Кот-д’Ивуар",size:"small",opacity:.7},{name:"Аргентина",size:"small",opacity:.7},{name:"Австралия",size:"small",opacity:.7},{name:"Йемен",size:"small",opacity:.7},{name:"Бангладеш",size:"small",opacity:.7},{name:"Бельгия",size:"small",opacity:.7},{name:"Эквадор",size:"small",opacity:.7},{name:"Катар",size:"small",opacity:.7},{name:"Нидерланды",size:"small",opacity:.7},{name:"Швейцария",size:"small",opacity:.7},{name:"Марокко",size:"small",opacity:.7},{name:"Португалия",size:"small",opacity:.7},{name:"Венгрия",size:"small",opacity:.7},{name:"Бразилия",size:"small",opacity:.7},{name:"Сингапур",size:"small",opacity:.7},{name:"Словакия",size:"small",opacity:.7},{name:"Греция",size:"small",opacity:.7},{name:"Болгария",size:"small",opacity:.7},{name:"Словения",size:"small",opacity:.7},{name:"Саудовская Аравия",size:"small",opacity:.7},{name:"Нигерия",size:"extraSmall",opacity:.5},{name:"Новая Зеландия",size:"extraSmall",opacity:.5},{name:"Папуа — Новая Гвинея",size:"extraSmall",opacity:.5},{name:"Чили",size:"extraSmall",opacity:.5},{name:"Бахрейн",size:"extraSmall",opacity:.5},{name:"Нигер",size:"extraSmall",opacity:.5},{name:"Норвегия",size:"extraSmall",opacity:.5},{name:"Маврикий",size:"extraSmall",opacity:.5},{name:"Мальта",size:"extraSmall",opacity:.5},{name:"Перу",size:"extraSmall",opacity:.5},{name:"Сьерра-Леоне",size:"extraSmall",opacity:.5},{name:"Непал",size:"extraSmall",opacity:.5},{name:"Бруней",size:"extraSmall",opacity:.5},{name:"Ангола",size:"extraSmall",opacity:.5},{name:"Гана",size:"extraSmall",opacity:.5},{name:"Сирия",size:"extraSmall",opacity:.5},{name:"Доминиканка",size:"extraSmall",opacity:.5},{name:"Мадагаскар",size:"extraSmall",opacity:.5},{name:"Ливия",size:"extraSmall",opacity:.5},{name:"Венесуэла",size:"extraSmall",opacity:.5},{name:"Ливан",size:"extraSmall",opacity:.5},{name:"Кипр Иордания",size:"extraSmall",opacity:.5},{name:"Филиппины",size:"extraSmall",opacity:.5},{name:"Панама",size:"extraSmall",opacity:.5},{name:"Эфиопия",size:"extraSmall",opacity:.5},{name:"Лаос",size:"extraSmall",opacity:.5},{name:"Гватемала",size:"extraSmall",opacity:.5},{name:"Уругвай",size:"extraSmall",opacity:.5},{name:"Ирландия",size:"extraSmall",opacity:.5},{name:"Гвинея",size:"extraSmall",opacity:.5},{name:"Танзания",size:"extraSmall",opacity:.5},{name:"Камерун",size:"extraSmall",opacity:.5},{name:"Кувейт",size:"extraSmall",opacity:.5}];class k{constructor(){this.cloud=document.getElementById("tagCloud"),this.tags=[],this.animationId=null,this.lastTime=0,this.center={x:50,y:50},this.speedFactor=.12,this.collisionCheckInterval=10,this.frameCount=0,this.fadeStartDistance=14,this.fadeEndDistance=2,this.init()}init(){this.createTags(),this.startAnimation(),window.addEventListener("resize",this.handleResize.bind(this))}createTags(){this.cloud.innerHTML="",this.tags=[];const e=q.find((e=>e.static));if(e){const t=document.createElement("div");t.className=`tag ${e.size}`,t.textContent=e.name,t.style.opacity=e.opacity,t.style.left=`${this.center.x}%`,t.style.top=`${this.center.y}%`,t.style.transform="translate(-50%, -50%)",this.cloud.appendChild(t),this.staticTag={element:t,x:this.center.x,y:this.center.y,size:1,opacity:e.opacity}}q.filter((e=>!e.static)).sort(((e,t)=>{const i={extraBig:4,big:3,mid:2,small:1,extraSmall:0};return i[t.size]-i[e.size]})).forEach(((e,t)=>{const i=document.createElement("div");i.className=`tag ${e.size}`,i.textContent=e.name,i.style.opacity=e.opacity,i.style.visibility="hidden",this.cloud.appendChild(i);const a=i.getBoundingClientRect(),s=a.width,n=a.height;this.cloud.removeChild(i);const o=Math.random()*Math.PI*2,l=.7+.2*Math.random(),r=this.center.x+Math.cos(o)*l*50,c=this.center.y+Math.sin(o)*l*50;i.style.left=`${r}%`,i.style.top=`${c}%`,i.style.visibility="visible",i.style.animation=`floatIn ${.3+.4*Math.random()}s ease-out forwards`,this.cloud.appendChild(i);const d=500+500*Math.random();this.tags.push({element:i,originalSize:e.size,x:r,y:c,speed:(.3+.45*Math.random())*this.speedFactor,size:1,opacity:e.opacity,width:s,height:n,sizeValue:this.getSizeValue(e.size),fadeDuration:d,fadeStartTime:0,isFading:!1})}))}getSizeValue(e){return{extraBig:4,big:3,mid:2,small:1,extraSmall:0}[e]}startAnimation(){this.animationId&&cancelAnimationFrame(this.animationId);const e=t=>{this.lastTime||(this.lastTime=t);const i=Math.min(t-this.lastTime,100)/1e3;this.lastTime=t,this.updateTags(i,t),this.frameCount++,this.frameCount%this.collisionCheckInterval==0&&this.checkCollisions(),this.animationId=requestAnimationFrame(e)};this.animationId=requestAnimationFrame(e)}updateTags(e,t){this.tags.forEach((i=>{const a=this.center.x-i.x,s=this.center.y-i.y,n=Math.sqrt(a*a+s*s);if(n<this.fadeStartDistance&&!i.isFading&&(i.isFading=!0,i.fadeStartTime=t),i.isFading){const e=Math.min((t-i.fadeStartTime)/i.fadeDuration,1);i.opacity=1-e,i.element.style.opacity=i.opacity}if(i.opacity>.01){const t=a/n,o=s/n;i.x+=t*i.speed*50*e,i.y+=o*i.speed*50*e;const l=n/50;i.size=.8*l+.2,i.element.style.left=`${i.x}%`,i.element.style.top=`${i.y}%`,i.element.style.transform=`translate(-50%, -50%) scale(${i.size})`}(i.opacity<=.01||n<this.fadeEndDistance)&&this.resetTag(i,t)}))}checkCollisions(){const e=[...this.tags].sort(((e,t)=>e.sizeValue-t.sizeValue));e.forEach((e=>{e.element.classList.remove("hidden")}));for(let t=0;t<e.length;t++)for(let i=t+1;i<e.length;i++){const a=e[t],s=e[i];if(this.isColliding(a,s)){(a.sizeValue<s.sizeValue?a:s).element.classList.add("hidden")}}}isColliding(e,t){const i=e.element.getBoundingClientRect(),a=t.element.getBoundingClientRect();return!(i.right<a.left||i.left>a.right||i.bottom<a.top||i.top>a.bottom)}resetTag(e,t){const i=Math.random()*Math.PI*2,a=.7+.2*Math.random();e.x=this.center.x+Math.cos(i)*a*50,e.y=this.center.y+Math.sin(i)*a*50,e.size=1,e.opacity=1,e.isFading=!1,e.fadeStartTime=0,e.element.style.left=`${e.x}%`,e.element.style.top=`${e.y}%`,e.element.style.transform="translate(-50%, -50%) scale(1)",e.element.style.opacity=1,e.element.classList.remove("hidden"),e.element.style.animation="none",e.element.style.animation=`floatIn ${.3+.3*Math.random()}s ease-out forwards`}handleResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((()=>{this.createTags()}),200)}}window.addEventListener("load",(()=>{new k}))}))})();